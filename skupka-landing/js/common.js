!function(){function t(t){var e=this;e.doc=t,e.window=window,e.bootstrap()}t.prototype.bootstrap=function(){var t=this;t.maskInit(".js-input-mask"),t.modal()},t.prototype.appLoad=function(t,e){var o=this;switch(t){case"loading":"loading"===o.doc.readyState&&e();break;case"dom":o.doc.onreadystatechange=function(){"complete"===o.doc.readyState&&e()};break;case"full":o.window.onload=function(t){e(t)};break;default:e()}},t.prototype.initSwitcher=function(){var t=this,e=t.doc.querySelectorAll("[data-switcher]");if(e&&e.length>0)for(var o=0;o<e.length;o++)for(var a=e[o],p=t.options(a.dataset.switcher),n=a.children,s=t.doc.querySelector('[data-switcher-target="'+p.target+'"]').children,r=0;r<n.length;r++){var c=n[r],l=a.children,i=s[r];if(c.classList.contains("active")){for(var u=0;u<l.length;u++)l[u].classList.remove("active"),s[u].classList.remove("active");c.classList.add("active"),i.classList.add("active")}c.children[0].addEventListener("click",function(t,e,o,a){return function(p){if(p.preventDefault(),!t.classList.contains("active")){for(var n=0;n<l.length;n++)o[n].classList.remove("active"),a[n].classList.remove("active");t.classList.add("active"),e.classList.add("active")}}}(c,i,l,s))}},t.prototype.str2json=function(t,e){try{return e?JSON.parse(t.replace(/([\$\w]+)\s*:/g,function(t,e){return'"'+e+'":'}).replace(/'([^']+)'/g,function(t,e){return'"'+e+'"'})):new Function("","var json = "+t+"; return JSON.parse(JSON.stringify(json));")()}catch(t){return!1}},t.prototype.options=function(t){var e=this;if("string"!=typeof t)return t;t.indexOf(":")!=-1&&"}"!=t.trim().substr(-1)&&(t="{"+t+"}");var o=t?t.indexOf("{"):-1,a={};if(o!=-1)try{a=e.str2json(t.substr(o))}catch(t){}return a},t.prototype.popups=function(t){var e={reachElementClass:".js-popup",closePopupClass:".js-close-popup",currentElementClass:".js-open-popup",changePopupClass:".js-change-popup"};t=$.extend({},t,e);var o={reachPopups:$(t.reachElementClass),bodyEl:$("body"),topPanelEl:$(".top-panel-wrapper"),htmlEl:$("html"),closePopupEl:$(t.closePopupClass),openPopupEl:$(t.currentElementClass),changePopupEl:$(t.changePopupClass),bodyPos:0};return o.openPopup=function(t){o.reachPopups.filter('[data-popup="'+t+'"]').addClass("opened"),o.bodyEl.css("overflow-y","scroll"),o.topPanelEl.css("padding-right",scrollSettings.width),o.htmlEl.addClass("popup-opened")},o.closePopup=function(t){o.reachPopups.filter('[data-popup="'+t+'"]').removeClass("opened"),setTimeout(function(){o.bodyEl.removeAttr("style"),o.htmlEl.removeClass("popup-opened"),o.topPanelEl.removeAttr("style")},500)},o.changePopup=function(t,e){o.reachPopups.filter('[data-popup="'+t+'"]').removeClass("opened"),o.reachPopups.filter('[data-popup="'+e+'"]').addClass("opened")},o.init=function(){o.bindings()},o.bindings=function(){o.openPopupEl.on("click",function(t){t.preventDefault();var e=$(this).attr("data-open-popup");o.openPopup(e)}),o.closePopupEl.on("click",function(e){var a;a=this.hasAttribute("data-close-popup")?$(this).attr("data-close-popup"):$(this).closest(t.reachElementClass).attr("data-popup"),o.closePopup(a)}),o.changePopupEl.on("click",function(t){var e=$(this).attr("data-closing-popup"),a=$(this).attr("data-opening-popup");o.changePopup(e,a)}),o.reachPopups.on("click",function(e){var a=$(e.target),p=t.reachElementClass.replace(".","");a.hasClass(p)&&o.closePopup($(e.target).attr("data-popup"))})},t&&o.init(),o},t.prototype.maskInit=function(t){$(t).mask("+7 (999) 999-99-99")},t.prototype.modal=function(){var t=this,e={};return e.init=function(){for(var o=t.doc.querySelectorAll(".popup__overlay"),a=0;a<o.length;a++)o[a].addEventListener("click",function(t){t.target.classList.contains("popup__overlay")&&e.closeModal()});for(var p=t.doc.querySelectorAll(".js-close-popup"),a=0;a<p.length;a++)p[a].addEventListener("click",function(t){var o=this.closest(".popup").getAttribute("data-popup");e.closeModal(o)});for(var n=t.doc.querySelectorAll(".js-open-popup"),a=0;a<n.length;a++)n[a].addEventListener("click",function(t){var o=this.getAttribute("data-popup-name");e.openModal(o)})},e.openModal=function(e){t.doc.querySelector(".popup__overlay").classList.add("opened");var o=t.doc.querySelector('[data-popup="'+e+'"]');o.classList.add("opened")},e.closeModal=function(e){if(t.doc.querySelector(".popup__overlay").classList.remove("opened"),e){var o=t.doc.querySelector('[data-popup="'+e+'"]');o.classList.remove("opened")}else for(var a=t.doc.querySelectorAll("[data-popup]"),p=0;p<a.length;p++)a[p].classList.remove("opened")},e.init(),e};var e=new t(document);e.appLoad("loading",function(){}),e.appLoad("dom",function(){e.initSwitcher()}),e.appLoad("full",function(t){})}();